- title: About This Book
  content:
    - source: README.md
- title: Installation
  content:
    - source: "# Installation"
    - source: www.ruby-lang.org/en/documentation/installation/index.md
      header_shift: 0
  children:
    - title: Versions and Implementations
      id: versions
      content:
        - source: content/getting-started/versions.md
- title: Interactive Console
  id: irb
  content:
    - source: lib/irb/IRB.md
    # - source: lib/irb/XMP.md
- title: Language Structure
  id: language
  content:
    - source: content/language.md
    - source: "doc/syntax/miscellaneous.md#Ending an Expression"
      header_shift: 0
    # TODO: continuing the expression on the next line
    - source: "doc/syntax/miscellaneous.md#Indentation"
      header_shift: 0
    - source: "doc/syntax/miscellaneous.md#`defined?`"
      header_shift: 0
    # Rewritten
    # - source: doc/syntax.md
  children:
    - title: Keywords
      content:
        - source: doc/keywords.md
          replace:
            - from: "* `defined?`: Returns a string describing its argument.  See [miscellaneous\n    syntax](rdoc-ref:syntax/miscellaneous.rdoc)"
              to: "* `defined?`: Returns a string describing its argument.  See [defined?](/language.md#defined)"
    - title: Literals
      content:
        # TODO: Needs rewrite accordingly to our structure
        - source: doc/syntax/literals.md
    - title: Comments
      content:
        - source: content/language/comments.md
    - title: Variables and Constants
      content:
        - source: '# Variables and Constants'
        - source: '## Local Variables'
        - source: doc/syntax/assignment.md
          sections:
            - Local Variable Names
            - Local Variable Scope
            - Local Variables and Methods
          remove: "## Local Variable Names"
        - source: doc/syntax/assignment.md
          sections:
            - Instance Variables
            - Class Variables
            - Global Variables
          header_shift: 0
        - source: content/language/constants.md
    - title: Assignment
      content:
        - source: doc/syntax/assignment.md
          sections:
            - Assignment
            - Abbreviated Assignment
            - Multiple Assignment
            - Array Decomposition
        # TODO: Assignment methods: here or in Methods (with link here)?..
        #       It is already in variables...
    - title: Control Expressions
      content:
        - source: doc/syntax/control_expressions.md
          remove:
            - "The `for` loop is similar"
            - "The `for` loop is rarely used"
          insert:
            - after: "The result value of a `for`"
              source: content/syntax/control_expressions/_for_vs_each.md
    - title: Defining methods
      id: methods-def
      content:
        - source: doc/syntax/methods.md
          insert:
            - after: "When called, the arguments"
              source: "content/language/methods/_underscore.md"
            - after: "When mixing keyword arguments"
              source: "content/language/methods/_keyword_vars.md"
            - after: "If you wish to rescue an exception"
              source: "content/language/methods/_expression.md"
        - source: doc/syntax/miscellaneous.md
          sections:
            - "`alias`"
            - "`undef`"
        # TODO: Advanced methods: expressions & DSLs
    - title: Calling methods
      id: methods-call
      content:
        - source: doc/syntax/calling_methods.md
    - title: Modules and Classes
      content:
        - source: doc/syntax/modules_and_classes.md
          insert:
            - after: "The third visibility is `private`."
              source: "content/language/modules_and_classes/_visibility.md"
    - title: Exceptions
      content:
        - source: content/language/exceptions/_raise.md
        - source: doc/syntax/exceptions.md
    - title: Refinements
      content:
        - source: doc/syntax/refinements.md
    - title: Precedence
      content:
        - source: doc/syntax/precedence.md
    - title: Miscellaneous Syntax
      id: misc
      content:
        - source: "doc/syntax/miscellaneous.md#`BEGIN` and `END`"
          header_shift: 0
    - title: File Structure
      id: files
      content:
        - source: content/language/files.md
    - title: Globals
      content:
        - source: doc/globals.md
        - source: lib/English/English.md
          remove: "Include the English library"
          insert:
            - after: '# English'
              source: >
                `English` standard library provides longer, more readable names for predefined
                global variables.
    - title: Metaprogramming and DSL
      id: metaprogramming
      content:
        - source: content/language/metaprogramming.md
- title: Built-in Classes
  id: builtin
  content:
    - source: content/builtin.md
  children:
    - title: Language Core
      id: core
      content:
        - source: content/core/core.md
        - source: core/Kernel.md
        - source: core/BasicObject.md
        - source: core/Object.md
        - source: core/Module.md
        - source: core/Class.md
        - source: core/Method.md
        - source: core/UnboundMethod.md
          header_shift: 2
        - source: core/Proc.md
        - source: core/Fiber.md
        - source: core/Binding.md
        # Deprecated/obsolete, see https://bugs.ruby-lang.org/issues/10548
        # - source: core/Continuation.md

    - title: Value Types
      id: types
      content:
        - source: content/core/types.md
      children:
        - title: "true, false, nil"
          id: atomic
          content:
            - source: "# `true`, `false` and `nil`"
            - source: core/TrueClass.md
            - source: core/FalseClass.md
            - source: core/NilClass.md
        - title: Comparable
          content:
            - source: core/Comparable.md
        - title: Numbers
          content:
            - source: core/Numeric.md
            - source: core/Integer.md
            - source: core/Float.md
            - source: core/Rational.md
            - source: core/Complex.md
            - source: '## BigDecimal'
            - source: ext/bigdecimal/BigDecimal.md#Introduction
              remove: '## Introduction'
              process:
                - [stdlib, bigdecimal]
            - source: ext/bigdecimal/BigDecimal.md#_ref
            # - source: ext/bigdecimal/BigMath.md
            # - source: ext/bigdecimal/Jacobian.md
            # - source: ext/bigdecimal/LUSolve.md
            # - source: ext/bigdecimal/Newton.md
            - source: '## Number Utilities'
            - source: core/Math.md
              header_shift: 2
            - source: lib/prime/Prime.md
              header_shift: 2
              process:
                - [stdlib, prime]
        - title: Symbol and String
          content:
            - source: '# Symbol and String'
            - source: core/Symbol.md
            - source: core/String.md
            - source: core/Encoding.md
            # Nothing documented there
            # - source: core/UnicodeNormalize.md
        - title: Regexp
          id: regexp
          content:
            - source: core/Regexp.md
            - source: core/MatchData.md
            # Just mentioning it here, but it is already included in Regexp docs by RDoc means
            # - source: doc/regexp.md
        - title: Range
          content:
            - source: core/Range.md
        - title: Struct
          content:
            - source: core/Struct.md
            - source: lib/ostruct/OpenStruct.md
              process:
                - [stdlib, ostruct]
        - title: Times and Dates
          content:
            - source: '# Times and Dates'
            - source: core/Time.md
              remove:
                - "# Examples"
                - "All of these examples"

            - source: content/builtin/core/time/_timerb.md
            - source: lib/time/Time.md#Examples
              remove: "## Examples"
            - source: "lib/time/Time.md#Converting to a String"
            - source: "lib/time/Time.md#Time.parse"
            - source: "lib/time/Time.md#Time.strptime"

            - source: ext/date/Date.md#Date
              process:
                - [stdlib, date]
            - source: ext/date/DateTime.md
              process:
                - [stdlib, date]
        - title: Enumerable
          content:
            - source: core/Enumerable.md
              insert:
                - source: content/core/enumerable.md
                  after: "The `Enumerable` mixin"
            - source: core/Enumerator.md
        - title: Array
          content:
            - source: core/Array.md
        - title: Hash
          content:
            - source: core/Hash.md
        - title: Set
          content:
            - source: lib/set/Set.md
              remove:
                - '## Contact'
                - '    - Akinori'
              process:
                - [stdlib, set]
            - source: lib/set/SortedSet.md
        - title: Matrix
          content:
            - source: lib/matrix/Matrix.md
              process:
                - [stdlib, matrix]
            - source: lib/matrix/Vector.md#Vector
            - source: lib/matrix/Vector.md#_ref

    - title: Exception
      content:
        - source: core/Exception.md
      children:
        - title: Exception Classes
          content:
            - source: "# Built-in Exception Classes"
            # Order and depth here are corresponding to explanation in Exception class docs
            - source: core/NoMemoryError.md
            - source: core/ScriptError.md
            - source: core/LoadError.md
              header_shift: 2
            - source: core/NotImplementedError.md
              header_shift: 2
            - source: core/SyntaxError.md
              header_shift: 2
            - source: core/SecurityError.md
            - source: core/SignalException.md
            - source: core/Interrupt.md
              header_shift: 2
            - source: core/StandardError.md
            - source: core/ArgumentError.md
              header_shift: 2
            - source: core/UncaughtThrowError.md
              header_shift: 3
            - source: core/EncodingError.md
              header_shift: 2
            - source: core/FiberError.md
              header_shift: 2
            - source: core/IOError.md
              header_shift: 2
            - source: core/EOFError.md
              header_shift: 3
            - source: core/IndexError.md
              header_shift: 2
            - source: core/KeyError.md
              header_shift: 3
            - source: core/StopIteration.md
              header_shift: 3
            - source: core/LocalJumpError.md
              header_shift: 2
            - source: core/NameError.md
              header_shift: 2
            - source: core/NoMethodError.md
              header_shift: 3
            - source: core/RangeError.md
              header_shift: 2
            - source: core/FloatDomainError.md
              header_shift: 3
            - source: core/RegexpError.md
              header_shift: 2
            - source: core/RuntimeError.md
              header_shift: 2
            - source: core/FrozenError.md
              header_shift: 3
            - source: core/SystemCallError.md
              header_shift: 2
            - source: core/Errno.md
              header_shift: 3
            - source: core/ThreadError.md
              header_shift: 2
            - source: core/TypeError.md
              header_shift: 2
            - source: core/ZeroDivisionError.md
              header_shift: 2
            - source: core/SystemExit.md
            - source: core/SystemStackError.md
            - source: core/fatal.md
            # Definition is empty
            # - source: core/ClosedQueueError.md
    - title: Warning
      content:
        - source: core/Warning.md

    - title: System Programming and CLI
      id: system-cli
      content:
        - source: '# System Programming and Command Line'
      children:
        - title: Processes and Signals
          content:
            - source: core/Process.md
            - source: core/Signal.md
            - source: doc/signals.md
        - title: IO Basics
          id: io
          content:
            - source: core/IO.md
              remove_sections:
                - "io/console"
            # File is repeated here (as an object of IO) and in Filesystem section (as a module for
            # file manipulations).
            - source: core/File.md
            - source: ext/stringio/StringIO.md
              process:
                - [stdlib, stringio]
            # - source: core/IO--EAGAINWaitReadable.md
            # - source: core/IO--EAGAINWaitWritable.md
            # - source: core/IO--EINPROGRESSWaitReadable.md
            # - source: core/IO--EINPROGRESSWaitWritable.md
            # - source: core/IO--EWOULDBLOCKWaitReadable.md
            # - source: core/IO--EWOULDBLOCKWaitWritable.md
            # - source: core/IO--WaitReadable.md
            # - source: core/IO--WaitWritable.md
        - title: Filesystem
          content:
            - source: core/Dir.md
              remove: "The directory used"
            - source: core/File.md
            - source: core/FileTest.md#_ref
            - source: ext/pathname/Pathname.md#Pathname
              process:
                - [stdlib, pathname]
            - source: "ext/pathname/Pathname.md#Example 1: Using Pathname"
              remove: "### Example 1"
            - source: ext/pathname/Pathname.md#_ref
            - source: lib/tempfile/Tempfile.md#Tempfile
              process:
                - [stdlib, tempfile]
            - source: lib/tempfile/Tempfile.md#Synopsis
              remove: "## Synopsis"
            - source: lib/tempfile/Tempfile.md#_ref
            - source: "## FileUtils"
              process:
                - [stdlib, fileutils]
            - source: "lib/fileutils/FileUtils.md#module FileUtils"
              remove: "## module FileUtils"
            - source: "lib/fileutils/FileUtils.md#Module Functions"
              remove: "### Module Functions"
            - source: lib/fileutils/FileUtils.md#_ref
            - source: lib/find/Find.md
              process:
                - [stdlib, find]
        - title: Arguments and Environment
          id: args
          content:
            - source: content/core/system-cli/args.md
            - source: core/ENV.md#_ref
            - source: core/ARGF.md

    - title: Concurrency and Parallelism
      content:
        - source: core/Thread.md
        - source: core/ThreadGroup.md
        - source: core/Mutex.md
        - source: core/ConditionVariable.md
          header_shift: 2
        - source: core/Queue.md
        - source: core/SizedQueue.md
          header_shift: 2

    - title: Interpreter Internals
      id: internals
      content:
        - source: content/builtin/core/internals.md
        - source: core/ObjectSpace.md
        - source: >
            ### objspace standard library

            Standard library `objspace` provides some extensions for `ObjectSpace` module.
        - source: ext/objspace/ObjectSpace.md
          remove: "# ObjectSpace"
        - source: core/GC.md
        - source: core/TracePoint.md
        # TODO: RubyVM::InstructionSequence have some docs!
        # - source: core/RubyVM.md
    - title: Marshal
      content:
        - source: core/Marshal.md
        - source: doc/marshal.md
    - title: Random
      content:
        - source: core/Random.md
        - source: lib/securerandom/SecureRandom.md
          process:
            - [stdlib, securerandom]
          header_shift: 2
    # deprecated
    # - source: core/Data.md

- title: Standard Library
  id: stdlib
  content:
    - source: content/stdlib.md
    # - source: doc/standard_library.md
  children:
    - title: Design Patterns
      id: patterns
      content:
        - source: "# Ruby implementation of common design patterns"
      children:
        - title: forwardable
          content:
            - source: lib/forwardable/Forwardable.md
              process: require_stdlib
            - source: lib/forwardable/SingleForwardable.md
        - title: delegate
          content:
            - source: lib/delegate/Delegator.md
              process: require_stdlib
            - source: lib/delegate/SimpleDelegator.md
        - title: observer
          content:
            - source: lib/observer/Observable.md
              process: require_stdlib
        - title: singleton
          content:
            - source: lib/singleton/Singleton.md
              process: require_stdlib
              remove_sections:
                - Implementation
                - Singleton and Marshal

    - title: Formats
      content:
        - source: content/stdlib/formats.md
      children:
        - title: csv
          content:
            - source: lib/csv/CSV.md
              process: require_stdlib
              remove_sections:
                - CSV and Character Encodings (M17n or Multilingualization)
        - title: json
          content:
            - source: ext/json/JSON.md
              process: require_stdlib
              remove: "# JSON"
            # - source: ext/json/Class.md
        - title: yaml
          content:
            - source: lib/yaml/YAML.md
              process: require_stdlib
              remove_sections:
                - History
                - More info
            - source: ext/psych/Psych.md#_ref
        - title: "rexml: XML parser and generator"
          id: rexml
          content:
            - source: lib/rexml/REXML.md
              process: require_stdlib
        - title: rss
          content:
            - source: lib/rss/RSS.md
              process: require_stdlib
              remove_sections: Copyright
        - title: zlib
          content:
            - source: ext/zlib/Zlib.md
              process: require_stdlib
              remove_sections: Class tree

    - title: Development and Debugging
      id: development
      content:
        - source: "# Development and Debugging Tools"
      children:
        - title: benchmark
          content:
            - source: lib/benchmark/Benchmark.md
              process: require_stdlib
        - title: coverage
          content:
            - source: ext/coverage/Coverage.md
              process: require_stdlib
              remove:
                - "# Usage"
                - "# Example"
        - title: debug
          content:
            - source: '# debug'
            - source: lib/debug/DEBUGGER__.md
              remove: "# DEBUGGER"
              remove_sections:
                - Going beyond basics
                - Getting help
              replace:
                - from: "DEBUGGER__ Reference"
                  to: "debug Reference"
            - source: content/stdlib/_debug_alt.md
        - title: "fiddle: FFI wrapper"
          id: fiddle
          content:
            - source: ext/fiddle/Fiddle.md
              process: require_stdlib
              remove:
                - 'A libffi wrapper'
                - '## Description'
        - title: logger
          content:
            - source: lib/logger/Logger.md
              process: require_stdlib
              remove: '## Description'
              remove_sections:
                - Features
                - HOWTOs
                - How to create a logger
                - How to log a message
                - How to close a logger
                - Setting severity threshold
        - title: "pp: Debug Print"
          id: pp
          content:
            - source: lib/pp/PP.md
              remove_sections:
                - Pretty-Print JSON
                - Author
              insert:
                - source: "> Since Ruby 2.5, this library is required by default"
                  after: "# PP"
              remove:
                # Lost in https://ruby-doc.org/, at least for Ruby 2.5.0
                # And anyways contained nothing useful.
                - "[PP Reference]"
            - source: lib/prettyprint/PrettyPrint.md#_ref
        - title: profiler
          content:
            - source: "## profile"
            - source: lib/profiler/Profiler__.md
              remove: "# Profiler"
              replace:
                - from: "Profiler__ Reference"
                  to: "profile Reference"
            - source: content/stdlib/_profiler_alt.md
        - title: "ripper: Parsing Ruby"
          id: ripper
          content:
            - source: ext/ripper/Ripper.md
              process: require_stdlib
              remove_sections:
                - Resources
                - Requirements
                - License
            # - source: ext/ripper/DSL.md
        - title: tracer
          content:
            - source: lib/tracer/Tracer.md
              remove_sections:
                - Copyright

    - title: String Utilities
      content:
        - source: "# String Utilities"
      children:
        - title: "erb: Ruby Temlating"
          id: erb
          content:
            - source: "## ERB"
              process: [[require_stdlib, erb]]
            - source: lib/erb/ERB.md#Introduction
              remove: "## Introduction"
            - source: lib/erb/ERB.md#Recognized Tags
            - source: lib/erb/ERB.md#Options
            - source: lib/erb/ERB.md#_ref
        - title: "racc: Parser Generator"
          id: racc
          content:
            - source: lib/racc/Racc.md
              process: require_stdlib
        - title: scanf
          content:
            - source: '# scanf'
              process: [[require_stdlib, scanf]]
            - source: lib/scanf/Scanf.md#Description
              remove: '## Description'
            - source: "lib/scanf/Scanf.md#Basic usage"
            - source: "lib/scanf/Scanf.md#Block usage"
            - source: "lib/scanf/Scanf.md#_ref"
        - title: "shellwords: Shell-aware string manipulation"
          id: shellwords
          content:
            - source: lib/shellwords/Shellwords.md
              process: require_stdlib
              remove:
                - "## Manipulates strings like"
                - "The shellwords() function"
                - "### Usage"
              remove_sections:
                - Authors
                - Contact
                - Resources
        - title: "strscan: Sequental String Scanner"
          id: strscan
          content:
            - source: ext/strscan/StringScanner.md#StringScanner
              process: require_stdlib
            - source: ext/strscan/StringScanner.md#_ref

    - title: Networking and Web
      content:
        - source: "## Networking and Web Libraries"
      children:
        - title: cgi
          content:
            - source: lib/cgi/CGI.md
              process: require_stdlib
        - title: ipaddr
          content:
            - source: lib/ipaddr/IPAddr.md
              process: require_stdlib
              remove: '## Example'

        - title: net/ftp
          content:
            - source: lib/net/ftp/Net--FTP.md
              process: require_stdlib
              remove_sections:
                - Major Methods
        - title: net/http
          content:
            - source: lib/net/http/Net--HTTP.md
              process: require_stdlib
              remove_sections:
                - HTTP Request Classes
                - HTTP Response Classes
            # - source: lib/net/http/Net--HTTPExceptions.md
            # - source: lib/net/http/Net--HTTPGenericRequest.md
            # - source: lib/net/http/Net--HTTPHeader.md
            # - source: lib/net/http/Net--HTTPInternalServerError.md
            # - source: lib/net/http/Net--HTTPMisdirectedRequest.md
            # - source: lib/net/http/Net--HTTPNotExtended.md
            # - source: lib/net/http/Net--HTTPRequest.md
            # - source: lib/net/http/Net--HTTPResponse.md
            # - source: lib/net/http/Net--HTTPTemporaryRedirect.md
            # - source: lib/net/http/Net--HTTPUnknownResponse.md
            # - source: lib/net/http/Net--HTTPUpgradeRequired.md
        - title: net/imap
          content:
            - source: lib/net/imap/Net--IMAP.md
              process: require_stdlib
              remove_sections:
                - Errors
                - References
        - title: net/pop
          content:
            - source: lib/net/pop/Net--POP3.md
              process: require_stdlib
              remove:
                - "## What is This Library?"
            - source: lib/net/pop/Net--APOP.md#_ref
            # - source: lib/net/pop/Net--APOPSession.md
            # - source: lib/net/pop/Net--POPAuthenticationError.md
            # - source: lib/net/pop/Net--POPBadResponse.md
            # - source: lib/net/pop/Net--POPError.md
            # - source: lib/net/pop/Net--POPMail.md
        # Just generic utility classes for other libs
        # - title: net/protocol
        #   content:
        #     - source: lib/net/protocol/Net--OpenTimeout.md
        #     - source: lib/net/protocol/Net--ReadTimeout.md
        #     - source: lib/net/protocol/Net--WriteAdapter.md
        - title: net/smtp
          content:
            - source: lib/net/smtp/Net--SMTP.md
              process: require_stdlib
              remove:
                - "## What is This Library?"
                - "## What is This Library NOT?"
            # - source: lib/net/smtp/Net--SMTPAuthenticationError.md
            # - source: lib/net/smtp/Net--SMTPError.md
            # - source: lib/net/smtp/Net--SMTPFatalError.md
            # - source: lib/net/smtp/Net--SMTPServerBusy.md
            # - source: lib/net/smtp/Net--SMTPSyntaxError.md
            # - source: lib/net/smtp/Net--SMTPUnknownError.md
            # - source: lib/net/smtp/Net--SMTPUnsupportedCommand.md

        - title: "openuri: Open Files and URLs"
          id: openuri
          content:
            - source: lib/open-uri/OpenURI.md
              process: require_stdlib
              remove:
                - "## Example"
                - "* Author:"
        - title: "resolv: DNS Resolver"
          id: resolv
          content:
            - source: lib/resolv/Resolv.md
              process: require_stdlib
              remove_sections: [Bugs]
            # Nothing there, in fact
            # - source: ext/win32/Resolv.md

        - title: socket
          content:
            - source: ext/socket/Socket.md
              process: require_stdlib
              remove_sections:
                - What's a socket?
                - Exception Handling
                - Convenience methods
                - Documentation by
            # - source: ext/socket/Addrinfo.md
            # - source: ext/socket/BasicSocket.md
            # - source: ext/socket/IPSocket.md
            # - source: ext/socket/SOCKSSocket.md
            # - source: ext/socket/SocketError.md
            # - source: ext/socket/TCPServer.md
            # - source: ext/socket/TCPSocket.md
            # - source: ext/socket/UDPSocket.md
            # - source: ext/socket/UNIXServer.md
            # - source: ext/socket/UNIXSocket.md
        - title: "webrick: Simple Web Server"
          id: webrick
          content:
            - source: "lib/webrick/WEBrick.md#WEB server toolkit."
              process: require_stdlib
            - source: "lib/webrick/WEBrick.md#Starting an HTTP server"
            - source: "lib/webrick/WEBrick.md#Custom Behavior"
            - source: lib/webrick/WEBrick.md#_ref
            # - source: lib/webrick/Errno.md
        - title: uri
          content:
            - source: lib/uri/URI.md
              process: require_stdlib
              remove_sections:
                - RFC References
                - Class tree
                - Copyright Info

    - title: System Programming and CLI
      id: cli
      content:
        - source: "# Libraries for CLI and OS services access"
      children:
        - title: "etc: Access to Unix /etc"
          id: etc
          content:
            - source: ext/etc/Etc.md
              process: require_stdlib
        - title: "fcntl: POSIX file access constants"
          id: fcntl
          content:
            - source: ext/fcntl/Fcntl.md
              process: require_stdlib
        - title: 'io/*: IO class addons'
          id: io
          content:
            - source: content/stdlib/io.md
        - title: "open3: Flexible child processes"
          id: open3
          content:
            - source: lib/open3/Open3.md
              process: require_stdlib
        - title: "optparse: CLI arguments parser"
          id: optparse
          content:
            - source: lib/optparse/OptionParser.md
              process: require_stdlib
              header_shift: -1
              remove:
                - "## OptionParser"
                - "### Introduction"
              remove_sections:
                - Further documentation
                - Complete example
                - Shell Completion
        - title: "pty: Pseudo terminal"
          id: pty
          content:
            - source: ext/pty/PTY.md
              process: require_stdlib
              remove_sections:
                - License
            # - source: ext/pty/IO.md
        - title: readline
          content:
            - source: ext/readline/Readline.md
              process: require_stdlib
        - title: syslog
          content:
            - source: ext/syslog/Syslog.md
              process: require_stdlib
        - title: "shell: Ruby interface to UNIX shell"
          id: shell
          content:
            - source: lib/shell/Shell.md
              process: require_stdlib
        - title: win32ole
          content:
            - source: ext/win32ole/WIN32OLE.md
              process: require_stdlib
            # - source: ext/win32ole/IE_CONST.md
            # - source: ext/win32ole/IXMLDOMNode.md
            # - source: ext/win32ole/IXMLDOMParseError.md
            # - source: ext/win32ole/IXMLHttpRequest.md
            # - source: ext/win32ole/IXTLRuntime.md
            # - source: ext/win32ole/Microsoft_FreeThreadedXMLDOM_1_0.md
            # - source: ext/win32ole/Microsoft_XMLDOM_1_0.md
            # - source: ext/win32ole/Microsoft_XMLDSO_1_0.md
            # - source: ext/win32ole/Microsoft_XMLHTTP_1.md
            # - source: ext/win32ole/Msxml.md
            # - source: ext/win32ole/OLEProperty.md
            # - source: ext/win32ole/OLEtagDOMNodeType.md
            # - source: ext/win32ole/OLEtagXMLEMEM_TYPE.md
            # - source: ext/win32ole/WIN32OLERuntimeError.md
            # - source: ext/win32ole/WIN32OLE_EVENT.md
            # - source: ext/win32ole/WIN32OLE_METHOD.md
            # - source: ext/win32ole/WIN32OLE_PARAM.md
            # - source: ext/win32ole/WIN32OLE_RECORD.md
            # - source: ext/win32ole/WIN32OLE_TYPE.md
            # - source: ext/win32ole/WIN32OLE_TYPELIB.md
            # - source: ext/win32ole/WIN32OLE_VARIABLE.md
            # - source: ext/win32ole/WIN32OLE_VARIANT.md

    - title: Cryptography and Encoding
      content:
        - source: '# Cryptography and Encoding Libraries'
      children:
        - title: base64
          content:
            - source: lib/base64/Base64.md
              process: require_stdlib
        - title: 'digest: Digests Generation'
          id: digest
          content:
            - source: ext/digest/Digest.md
              process: require_stdlib
        - title: openssl
          content:
            - source: ext/openssl/OpenSSL.md
              process: require_stdlib

    - title: Miscellaneous Libraries
      id: misc
      content:
        - source: "## Miscellaneous Ruby Libraries"
      children:
        # FIXME: If any of this used at all?..
        - title: Concurrency Utils
          content:
            - source: "# Concurrency Utils"
            - source: lib/monitor/Monitor.md
            - source: lib/monitor/MonitorMixin.md
            - source: lib/mutex_m/Mutex_m.md
            - source: lib/sync/Sync.md
            - source: lib/sync/Sync_m.md
            - source: lib/sync/Synchronizer.md
            - source: lib/sync/Synchronizer_m.md
        - title: "drb: Distributed Ruby"
          id: drb
          content:
            - source: lib/drb/DRb.md
              process: require_stdlib
            # - source: lib/drb/ACL.md
        - title: "dbm, gdbm, sdbm"
          id: dbm
          content:
            - source: '# DBM-alike Database Implementations'
            - source: ext/dbm/DBM.md
              remove: '## Introduction'
              remove_sections:
                - Cautions
                - Example
            # - source: ext/dbm/DBMError.md
            - source: '## GDBM'
            - source: ext/gdbm/GDBM.md#Summary
              remove: '## Summary'
            - source: ext/gdbm/GDBM.md#_ref
            - source: ext/sdbm/SDBM.md#SDBM
            - source: ext/sdbm/SDBM.md#_ref
            # - source: ext/sdbm/SDBMError.md
        - title: timeout
          content:
            - source: lib/timeout/Timeout.md
              process: require_stdlib
              remove:
                - "## Synopsis"
                - "## Description"
              remove_sections:
                - Copyright
        - title: Other Libraries
          id: other
          content:
            - source: "# A Brief List of Less Used Libraries"
            - source: lib/abbrev/Abbrev.md
            - source: lib/cmath/CMath.md
              remove: "# Trigonometric and transcendental"
              remove_sections: [Usage]
            - source: lib/getoptlong/GetoptLong.md

            - source: lib/e2mmap/Exception2MessageMapper.md#Exception2MessageMapper
            - source: lib/e2mmap/Exception2MessageMapper.md#_ref

            - source: ext/nkf/NKF.md#NKF
            - source: ext/nkf/NKF.md#_ref
            # - source: ext/nkf/Kconv.md

            - source: lib/pstore/PStore.md
              remove_sections:
                - "Usage example:"
                - Transaction modes
            - source: lib/rinda/Rinda.md
              remove_sections:
                - "Example(s)"
            - source: lib/thwait/ThreadsWait.md
            # - source: lib/thwait/ThWait.md
            - source: lib/tsort/TSort.md
              remove_sections:
                - A Simple Example
                - A More Realistic Example
                - Bugs
                - References
            - source: lib/weakref/WeakRef.md
            # - source: ext/win32/Win32.md

- title: Developing In Ruby
  id: developing
  content:
    - source: >
        # Developing in Ruby

        This chapter groups some tools and approaches of professional development, including using
        third-party libraries, documenting and testing code, code style and linting.
  children:
    - title: Libraries
      content:
        - source: "# Libraries"
        - source: www.ruby-lang.org/en/libraries/index.md
        # TODO: Bundler
        # Site covered it better
        # - source: lib/rubygems/Gem.md
    - title: Documenting Ruby Code
      id: documenting
      content:
        - source: content/advanced/documenting.md
        # RDoc core class documentation is not the best entry point
        # - source: lib/rdoc/RDoc.md
        # - source: lib/rdoc/RDocTask.md

    - title: Testing Ruby Code
      id: testing
      content:
        - source: content/advanced/testing.md
    - title: Code Style
      content:
        - source: content/advanced/code_style.md
- title: Advanced Topics
  id: advanced
  content:
    - source: "# Advanced Topics"
  children:
    - title: Developing C Extensions
      id: extensions
      content:
        # TODO: In fact, it has a whole LOT of chapters! Should be either separated, or
        # shortened and linked to full version.
        - source: doc/extension.md
          remove:
            - "# extension.rdoc -"
            - "\\:enddoc"
        - source: lib/mkmf/MakeMakefile.md
    - title: Security
      content:
        - source: doc/security.md
    - title: DTrace
      content:
        - source: doc/dtrace_probes.md
    - title: Contributing To Ruby
      id: contributing
      content:
        - source: doc/contributing.md
        # - source: doc/contributors.md
        # - source: doc/maintainers.md
